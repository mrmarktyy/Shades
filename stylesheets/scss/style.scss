$btn-large-height: 100px;

@import 'fonts';
@import 'theme';
@import 'keyframes';

body {
  margin: 0;
  font-family: 'Shades', Helvetica, Georgia;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.overlay {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1000;
}

#game {
  position: relative;
  overflow: hidden;
  background: #666;
  margin: 0 auto;
}

.game-title {
  position: absolute;
  font-size: 30px;
  top: 20%;
  left: 0;
  right: 0;
  text-align: center;
  color: white;
  letter-spacing: 14px;
  &.out {
    -webkit-transition: -webkit-transform 0.5s ease;
            transition: transform 0.5s ease;
    -webkit-transform: translate3d(0, -400px, 0);
            transform: translate3d(0, -400px, 0);
  }

}

.lane {
  width: 25%;
  position: absolute;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent; /* For some Androids */
  &:active,
  &.active {
    background-color: rgba(255, 255, 255, 0.15);
  }
  &.fade {
    -webkit-transition: background-color 0.5s ease;
            transition: background-color 0.5s ease;
  }
}

.shade {
  width: 25%;
  position: absolute;
  top: 0;
  left: 0;
  opacity: 1;
  -webkit-transition: -webkit-transform 10s linear;
          transition: transform 10s linear;
  &.landing {
    -webkit-transition: -webkit-transform 50ms linear;
            transition: transform 50ms linear;
  }
  &.blur {
    -webkit-filter: blur(4px);
            filter: blur(4px);
  }
  &.prepare-0 {
    opacity: 0;
    -webkit-transition: opacity 0.5s linear;
            transition: opacity 0.5s linear;
  }
  &.prepare-1 {
    -webkit-transition: width 1s ease-in-out, left 1s ease-in-out;
            transition: width 1s ease-in-out, left 1s ease-in-out;
  }
  &.prepare-2 {
    -webkit-transition: height 0.3s linear;
            transition: height 0.3s linear;
  }
  &.welcome {
    -webkit-transition: -webkit-transform 0.8s linear;
            transition: transform 0.8s linear;
  }
}

.shade-combine {
  width: 25%;
  position: absolute;
  -webkit-transition: background-color 0.3s ease, height 0.3s ease;
          transition: background-color 0.3s ease, height 0.3s ease;
}

.live-score {
  display: none;
  background-color: transparent !important;
  text-align: center;
  width: 100%;
  top: 20px;
  position: absolute;
  font-size: 22px;
  z-index: 11;
}

.level {
  top: 24px;
  left: 10px;
  position: absolute;
  z-index: 11;
}

.btn-pause {
  cursor: pointer;
  width: 20px;
  height: 18px;
  right: 15px;
  top: 22px;
  position: absolute;
  z-index: 11;

  .bar {
    width: 6px;
    height: 100%;
    display: inline-block;
  }
}

.score,
.best {
  position: absolute;
  color: white;
  width: 100%;
  height: 40px;
  line-height: 40px;
  text-align: center;
  font-size: 16px;
}

.score { bottom: 0; }
.best { top: 0; }

.menu,
.pause,
.tutorial {
  display: none;
  width: 100%;
  top: 0;
  position: absolute;
  z-index: 11;
}

.menu {
  .best {
    font-size: 14px;
    bottom: 0;
    top: auto;
    background-color: #555;
  }
}

.tutorial {
  .intro {
    position: absolute;
    top: 40%;
    width: 100%;
    -webkit-transform: translate3d(0, -50%, 0);
            transform: translate3d(0, -50%, 0);
    text-align: center;
  }
  .btn-next {
    position: relative;
    width: 50px;
  }
}

.tutorial__text,
.tutorial__success {
  display: none;
  position: absolute;
  width: 100%;
  text-align: center;
  color: white;
}
.tutorial__text { top: 60%; }
.tutorial__success { top: 40%; }

.spot {
  display: none;
  width: 30px;
  height: 30px;
  top: 20%;
  background: white;
  border-radius: 50%;
  position: absolute;
  -webkit-animation: spot 1s infinite ease-in-out;
          animation: spot 1s infinite ease-in-out;
}

.btn-large {
  cursor: pointer;
  width: 60%;
  left: 20%;
  height: $btn-large-height;
  overflow: hidden;
  position: absolute;
  .content {
    height: $btn-large-height;
    width: 100%;
    position: absolute;
    -webkit-transition: -webkit-transform 0.5s ease-in-out;
            transition: transform 0.5s ease-in-out;
  }
  p {
    font-size: 20px;
    width: 100%;
    margin: 0;
    text-align: center;
    position: absolute;
  }

  &.up {
    .content {
      bottom: -$btn-large-height;
      &.in {
        -webkit-transform: translate3d(0, -$btn-large-height, 0);
                transform: translate3d(0, -$btn-large-height, 0);
      }
    }
    p { bottom: 0; }
  }
  &.down {
    .content {
      top: -$btn-large-height;
      &.in {
        -webkit-transform: translate3d(0, $btn-large-height, 0);
                transform: translate3d(0, $btn-large-height, 0);
      }
    }
    p { top: 0; }
  }
}

.btn-home {
  position: absolute;
  width: 60%;
  left: 20%;
  padding: 10px;
  box-sizing: border-box;
  text-align: center;
  cursor: pointer;
}

.btn-theme,
.btn-tutorial {
  font-size: 14px;
  cursor: pointer;
  position: absolute;
  padding: 10px;
}
.btn-theme { left: 25%; }
.btn-tutorial { left: 60%; }

.countdown {
  width: 100%;
  height: 50px;
  background-color: rgba(0, 0, 0, 0.3);
  top: 50%;
  -webkit-transform: translate3d(0, -50%, 0);
          transform: translate3d(0, -50%, 0);
  position: absolute;
  z-index: 12;
  &.ing {
    -webkit-animation: countdown 1s linear;
            animation: countdown 1s linear;
  }
  > div {
    color: white;
    text-align: center;
    font-size: 18px;
    line-height: 50px;
  }
}

.gameover-up,
.gameover-down {
  display: none;
  position: absolute;
  width: 100%;
  -webkit-transition: -webkit-transform 0.5s ease-in-out;
          transition: transform 0.5s ease-in-out;
  z-index: 10;
}

.gameover-title {
  position: absolute;
  text-align: center;
  font-size: 35px;
  top: 45%;
  left: 50%;
  -webkit-transform: translate3d(-50%, -50%, 0);
          transform: translate3d(-50%, -50%, 0);
  p {
    margin: 0;
  }
}

.gameover-up {
  bottom: 100%;
  &.in {
    -webkit-transform: translate3d(0, 100%, 0);
            transform: translate3d(0, 100%, 0);
  }
}

.gameover-down {
  top: 100%;
  &.in {
    -webkit-transform: translate3d(0, -100%, 0);
            transform: translate3d(0, -100%, 0);
  }
}

.btn {
  cursor: pointer;
  width: 200px;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  left: 50%;
  position: absolute;
  -webkit-transform: translate3d(-50%, 0, 0);
          transform: translate3d(-50%, 0, 0);
}

.btn-playagain { top: 60px; }
.btn-share { top: 110px; }
.btn-more { top: 160px; }

.lane-0 { left: 0;  }
.lane-1 { left: 25%; }
.lane-2 { left: 50%; }
.lane-3 { left: 75%; }

.share {
  display: none;
  background: rgba(0, 0, 0, 0.7);
  color: white;

  .arrow {
    width: 60px;
    position: absolute;
    right: 0;
    -webkit-animation: arrow 1s infinite linear;
            animation: arrow 1s infinite linear;
  }
  .text {
    position: absolute;
    top: 15%;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 20px;
  }
  .like {
    position: absolute;
    font-size: 20px;
    bottom: 60px;
    text-align: center;
    width: 100%;
  }
}

.hidden {
  position: absolute;
  bottom: 0;
  visibility: hidden;
}

.ads {
  width: 100%;
  margin: 0;
  padding: 0;
  border: none;
  background: none;
  height: 50px;
  position: absolute;
  bottom: 0;
  z-index: 1002;
}

// HACK: Lock landscape mode
@media only screen
and (min-device-width : 320px)
and (max-device-width : 480px)
and (orientation: landscape) {
  body {
    -webkit-transform-origin: 0% 0%;
            transform-origin: 0% 0%;
           -webkit-transform: rotate(90deg);
                   transform: rotate(90deg);
                    position: absolute;
                        left: 100%;
  }
}
